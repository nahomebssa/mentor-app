(this["webpackJsonpmentor-app"]=this["webpackJsonpmentor-app"]||[]).push([[0],{48:function(e,t,a){},60:function(e,t,a){e.exports=a(81)},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),o=(a(47),a(48),a(35)),l=a(21),c=a(9),s=a(8),u=a(11),m=a(13),f=a(14),h=a(6),d=a.n(h),p=(a(59),a(58));for(var E={users:[]},v=["IT & Computer Science","Biology","Physics","Accounting","Health & Medicine","Educator"],g=1;g<20;g++)E.users.push({username:"@user".concat(g),name:"User ".concat(g),email:"user".concat(g),bio:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi corporis quam, unde voluptate labore repellendus nisi facilis veniam. Laboriosam nulla fuga officia quidem sint qui odio amet pariatur quod corporis.",areaOfExpertise:function(){for(var e=Math.floor(3*Math.random()),t=[];e-- >0;)t.push(v[Math.floor(Math.random()*v.length)]);return t}(),rating:Math.floor(5*Math.random())});var b,S,y,N=function(e){return Object.freeze(e)};b=function(){},S=function(){},y=function(){};var O=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"_initialize",value:function(){e.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}()}},{key:"signInWithEmailAndPassword",value:function(t,a){var n,r="[FirebaseManager#signInWithEmailAndPassword]\n",i=(d.a.auth().signInWithEmailAndPassword(t,a).then((function(t){S("signInWithEmailAndPassword, HERE"),n=new e.AuthResult({result:t,error:null}),b("".concat(r,"Signed in user:\n").concat(t)),S(t)})).catch((function(t){n=new e.AuthResult({result:null,error:t}),b("".concat(r,"Error: couldn't sign in user\n").concat("    ",'fberr: "').concat(t,'"')),y(r,t);t.code,t.message})),n instanceof e.AuthResult);return b("".concat(r,"res: ").concat(n,"\n").concat(i?"":"not"," instanceof FirebaseManager.AuthResult")),n}},{key:"signInWithGoogle",value:function(){var e=new d.a.auth.GoogleAuthProvider;d.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken,e.user})).catch((function(e){e.code,e.message,e.email,e.credential}))}},{key:"onAuthStateChanged",value:function(){d.a.auth().onAuthStateChanged((function(e){if(e)e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData}))}}]),e}();O._initialize();var j=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"_checkEmailAndPassword",value:function(e,t){return!!(e&&t&&e.includes("@")&&e.includes("."))}},{key:"setAuthState",value:function(t){e._authState=e.AuthState.SIGNEDIN}},{key:"signIn",value:function(e){e.provider;var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,i=e.onSuccess,o=void 0===i?function(){}:i,l=e.onFail,c=void 0===l?function(){}:l;S("HERE",o),d.a.auth().signInWithEmailAndPassword(a,r).then(o).catch(c)}}]),e}();j.AuthState=N({SIGNEDIN:"AuthState.SIGNEDIN",SIGNEDOUT:"AuthState.SIGNEDOUT",GUESTMODE:"AuthState.GUESTMODE"}),j.AuthProvider=N({EMAIL:"AuthProvider.EMAIL",GOOGLE:"AuthProvider.GOOGLE"}),j.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}(),j._authState=j.AuthState.SIGNEDOUT;var w=a(89),U=a(90),I=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return null==d.a.auth().currentUser?r.a.createElement(c.a,{to:"/sign-in"}):r.a.createElement("div",{className:"HomeView"},r.a.createElement(w.a,{style:{width:"18rem"}},r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Text,null,"Quickly share a couple of details about yourself. Let them know who you are!"),r.a.createElement(U.a,{href:"/profile",variant:"primary"},"Edit Profile"))),r.a.createElement(w.a,{style:{width:"18rem"}},r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Text,null,"Your professor breezed through the lecture? You didn't figure out the answer to your question? Have a degree but don't know what to do with it?  I've got you covered."),r.a.createElement(U.a,{href:"/explore",variant:"primary"},"Search for a mentor"))))}}]),a}(n.Component),A=a(26),k=a(38),P=function(){function e(t){Object(k.a)(t),Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"searchFor",value:function(e){var t;e.query,e.sortBy,e.callback;(t=d.a.firestore().collection("users")).where.apply(t,["","",""]).get().catch(console.error).then((function(e){}))}},{key:"userExist",value:function(e){var t=e.name;d.a.firestore().collection("users").doc("Dunton James").get().then((function(e){e.exists?console.log(t,"Document data:",e.data()):alert("No such document!")})).catch((function(e){console.log("Error getting document",e)}))}}]),e}();P.SearchQuery=function(){return function e(){Object(s.a)(this,e)}}(),P.SearchResult=function(){return function e(){Object(s.a)(this,e)}}();var C=a(83);function x(e){var t=e.onTextChange,a=Object(n.useState)(""),i=Object(A.a)(a,2),o=i[0],l=i[1];return r.a.createElement("div",{className:"SearchBox flex fww fdc"},r.a.createElement("input",{type:"text",value:o,onChange:function(e){l(e.target.value),t(e.target.value)},autoFocus:!0}),r.a.createElement("span",{style:{fontFamily:"monospace"}},o))}var G=function(e){var t,a=e.value,n=e.iconName;return r.a.createElement("div",{className:"Rating flex"},(t=5,Object(p.a)(Array(t).keys())).map((function(e,t){return r.a.createElement("i",{key:t,className:"material-icons ".concat(t<a?"--filled":"--empty")},n)})))};function R(e){var t=e.user,a=t.name,n=t.bio,i=t.areaOfExpertise,o=t.rating;return r.a.createElement(w.a,null,r.a.createElement(w.a.Img,{variant:"top",src:"#",style:{minHeight:"30vh",background:"slategrey"}}),r.a.createElement(w.a.Body,null,r.a.createElement(w.a.Title,{as:function(e){var t=Object.assign({},e);return r.a.createElement("h3",t)}},a),r.a.createElement(w.a.Text,null,n),r.a.createElement(G,{value:o}),i.map((function(e,t){return r.a.createElement(C.a,{variant:"secondary",className:"p-2 mr-2",key:t},e)}))))}function M(e){var t=e.results;return r.a.createElement("div",{className:"SearchResults flex fdc"},t.map((function(e,a){var n={user:t[a]};return r.a.createElement(R,{key:a,user:n.user})})))}function F(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],i=t[1],o=Object(n.useState)(E.users||[]),l=Object(A.a)(o,2),c=l[0];l[1];return r.a.createElement("div",{className:"ExploreView flex fdc"},r.a.createElement(x,{onTextChange:function(e){return i(e)}}),r.a.createElement("button",{onClick:function(){P.searchFor({query:a}),console.log()}},"send data"),r.a.createElement(M,{results:c}))}var L=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"InboxView flex",style:{height:"100%"}},r.a.createElement("div",{className:"coming-soon flex-1 flex aic jcc"},r.a.createElement("p",null,"Coming soon...")))}}]),a}(n.Component),T=a(17);a(51),a(39);var D=function(e){return r.a.createElement("h2",{className:"title"},"Edit Profile")},B=(n.Component,n.Component,function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);S("[ProfileView#constructor]","props.profile: ",n.props.profile);var r=n.props.profile,i=void 0===r?{}:r;return n.state={profile:i||{isEmptyProfile:!0},iName:i.name||"",iUsername:i.username||"",iBio:i.bio||"",iEmail:i.email||""},n.saveChanges=n.saveChanges.bind(Object(T.a)(n)),n.onProfileRefGet=n.onProfileRefGet.bind(Object(T.a)(n)),n.onProfileRefGetError=n.onProfileRefGetError.bind(Object(T.a)(n)),n.getProfile=n.loadProfile.bind(Object(T.a)(n)),n.loadProfile(),n}return Object(u.a)(a,[{key:"onProfileUpdated",value:function(){alert("Your changes have been saved.")}},{key:"saveChanges",value:function(){var e="[ProfileForm#saveChanges]",t=this.state,a=t.name,n=t.bio;b("saving changes...\nname: ".concat(a,"\nbio: ").concat(n));var r=d.a.auth().currentUser,i=(r.displayName,r.email,r.photoURL,r.emailVerified,r.uid);r.updateProfile({displayName:this.state.name}).then((function(){b("".concat(e," updated profile"))})).catch((function(t){b("".concat(e," failed to update profile")),S(e,t)}));var o=d.a.firestore().collection("/users").doc(i),l={name:this.state.iName,username:this.state.iUsername,bio:this.state.iBio,email:this.state.iEmail};S(l),o.set(l),this.onProfileUpdated()}},{key:"onProfileRefGet",value:function(e){if(e.exists){var t=e.data();this.setState({profile:t,iName:t.name,iUsername:t.username,iBio:t.bio,iEmail:t.email}),this.forceUpdate(),S("".concat("[ProfileView#onProfileRefGet]"," this.state.profile"),this.state.profile)}else console.log("No such document 'doc.data()' defined!")}},{key:"onProfileRefGetError",value:function(e){console.log("Error getting document:",e),b("".concat("[ProfileView#onProfileRefGetError]"," Error getting document: ").concat(e))}},{key:"loadProfile",value:function(){if(!d.a.auth().currentUser)return b("NO CURUSER"),void this.setState({signedIn:!1});var e=d.a.auth().currentUser,t=e||{},a=(t.displayName,t.email,t.photoURL,t.emailVerified,t.uid);d.a.firestore().collection("/users").doc(a).get().then(this.onProfileRefGet).catch(this.onProfileRefGetError),S("user: ",e)}},{key:"render",value:function(){var e=this,t=function(e){var t=Object.assign({},e);return r.a.createElement("div",t)},a=function(e){var t=Object.assign({},e);return r.a.createElement("label",Object.assign({className:"flex aifs"},t))};a.Left=function(e){var t=e.children;return r.a.createElement("span",{style:{width:"30%"}},t)};var n=this.state;n.profile,n.signedIn;return r.a.createElement("div",{className:"ProfileView"},r.a.createElement("div",{className:"flex fdc"},r.a.createElement(D,null),r.a.createElement(t,{className:"profile-form flex fww"},r.a.createElement(a,null,r.a.createElement(a.Left,null,"Name"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Name",value:this.state.iName,onChange:function(t){return e.setState({iName:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Username"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Username",value:this.state.iUsername,onChange:function(t){return e.setState({iUsername:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Bio"),r.a.createElement("textarea",{style:{width:"70%"},placeholder:"Insert bio here...",value:this.state.iBio,onChange:function(t){return e.setState({iBio:t.target.value})}})),r.a.createElement("div",{id:"btns",className:"flex "},r.a.createElement("input",{className:"btn btn-primary flex-1",type:"button",onClick:function(t){e.saveChanges()},value:"Save changes"})))))}}]),a}(n.Component)),V=a(88);var _=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errorMessage:"",gotSignedIn:!1},e.handleSignIn=function(){var t=e.state,a=t.email,n=t.password;b("Signing in...\nemail: ".concat(a,"\npassword: ").concat(n));var r=j.AuthProvider.EMAIL;j.signIn({provider:r,email:a,password:n,onSuccess:function(t){j.setAuthState(j.AuthState.SIGNEDIN),e.setState({gotSignedIn:!0})},onFail:function(t){b("Failed to sign in :( ..."),y("error",t),e.setState({errorMessage:"".concat(t)})}})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.errorMessage;if(!0===t.gotSignedIn)return r.a.createElement(c.a,{to:this.REDIRECT_URL});var n="msg-banner ".concat(""!==a?"--error":"--hidden");return r.a.createElement("div",{className:"AuthForm --sign-in"},r.a.createElement("div",{className:n},a),r.a.createElement("form",{className:"flex fdc"},r.a.createElement("input",{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"flex asfe pad-10"},r.a.createElement(l.b,{to:"/sign-up",className:"btn btn-link"},"Sign up"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Sign In",onClick:function(){return e.handleSignIn()}}))))}}]),a}(r.a.Component);_.REDIRECT_URL="/profile";var H=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={fullName:"",email:"",password:"",errorMessage:"",gotSignedUp:!1},n.onSignUpSuccess=n.onSignUpSuccess.bind(Object(T.a)(n)),n.onSignUpFail=n.onSignUpFail.bind(Object(T.a)(n)),n}return Object(u.a)(a,[{key:"onSignUpSuccess",value:function(e){var t="[SignUpForm#onSignUpSuccess]";b("".concat(t," SUCCESS \n").concat(e)),S(t,e),S(t,d.a.auth().currentUser),d.a.auth().currentUser.updateProfile({displayName:this.state.fullName}).then((function(){b("".concat(t," updated profile"))})).catch((function(e){b("".concat(t," failed to update profile")),S(t,e)})),d.a.firestore().collection("users").doc(e.user.uid).set({isSetup:"no?false:true",name:"<no name>",bio:"<no bio>"}),this.setState({gotSignedUp:!0})}},{key:"onSignUpFail",value:function(e){var t="[SignUpForm#onSignUpFail]";b("".concat(t," FAILED \n").concat(e)),y(t,e),this.setState({errorMessage:"".concat(e)})}},{key:"handleSignUp",value:function(){var e=this.state,t=e.email,a=e.password;b("Signing up...\nemail: ".concat(t,"\npassword: ").concat(a)),d.a.auth().createUserWithEmailAndPassword(t,a).then(this.onSignUpSuccess).catch(this.onSignUpFail)}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorMessage;if(!0===t.gotSignedUp)return r.a.createElement(c.a,{to:"/sign-in"});var n=""!==a,i=a;return r.a.createElement("div",{className:"auth-form --sign-up"},r.a.createElement("div",{className:"msg-banner ".concat(n?"--error":"--hidden")},i),r.a.createElement(V.a,null,r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"text",placeholder:"Full Name",value:this.state.fullName,onChange:function(t){return e.setState({fullName:t.target.value})}})),r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(l.b,{to:"/sign-in",className:"btn btn-link",style:{flex:1}},"Sign in"),r.a.createElement(V.a.Control,{className:"btn-primary",type:"submit",value:"Sign Up",onClick:function(){return e.handleSignUp()}}))))}}]),a}(r.a.Component),W=function(e){return null};function q(e){var t=null,a=!1;switch(e.authMode){case"AuthMode.SIGNIN":t=r.a.createElement(_,null);break;case"AuthMode.SIGNUP":t=r.a.createElement(H,null);break;case"AuthMode.SIGNOUT":t=r.a.createElement(W,null),a=!0;break;default:t=r.a.createElement(_,null)}return r.a.createElement("div",{className:"flex fdc aic jcc --full-screen-absolute --bg-accent --fg-white"},a?null:r.a.createElement("h1",{className:"title"},"Mentor Finder"),t)}var z=a(84),Q=a(85),Y=a(86),J=a(87),K=(Object(n.createContext)(),function(e){var t=e.tabs;return r.a.createElement("nav",{className:"AppTabs"},r.a.createElement("ul",null,t.map((function(e,t){var a=e.href,n=e.icon;return r.a.createElement("li",{key:t},r.a.createElement(l.b,{to:a},r.a.createElement(n,{size:24})))}))))}),X=function(){return r.a.createElement(c.d,null,r.a.createElement(c.b,{path:"/explore"},r.a.createElement(F,null)),r.a.createElement(c.b,{path:"/inbox"},r.a.createElement(L,null)),r.a.createElement(c.b,{path:"/profile"},r.a.createElement(B,null)),r.a.createElement(c.b,{path:"/sign-in"},r.a.createElement(q,{authMode:"AuthMode.SIGNIN",successPath:"/profile"})),r.a.createElement(c.b,{path:"/sign-up"},r.a.createElement(q,{authMode:"AuthMode.SIGNUP"})),r.a.createElement(c.b,{path:"/sign-out"},r.a.createElement(q,{authMode:"AuthMode.SIGNOUT"})),r.a.createElement(c.b,{path:"/"},r.a.createElement(I,null)))},Z=function(e){var t=e.children,a=(Object(o.a)(e,["children"]),[{href:"/",icon:z.a},{href:"/explore",icon:Q.a},{href:"/inbox",icon:Y.a},{href:"/profile",icon:J.a}]),n=function(e){var t=e.children;return r.a.createElement("header",{className:"AppHeader"},t)},i=function(e){var t=e.children;return r.a.createElement("main",{className:"AppMain"},t)};return r.a.createElement("div",{className:"App"},r.a.createElement(n,null,r.a.createElement("b",null,"Mentor Finder")),r.a.createElement(i,null,t,r.a.createElement(X,null)),r.a.createElement(K,{tabs:a}))};function $(){return"/dist/app.html",r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{basename:"/dist/app.html"},r.a.createElement(Z,null)))}Object(h.initializeApp)({apiKey:"AIzaSyCmE6rP0Vsuherr46YH8-OQ_SoRXyp6_gg",authDomain:"mentor-finder-app.firebaseapp.com",databaseURL:"https://mentor-finder-app.firebaseio.com",projectId:"mentor-finder-app",storageBucket:"mentor-finder-app.appspot.com",messagingSenderId:"223437150523",appId:"1:223437150523:web:3885fb7f8739c0d1a23f1e",measurementId:"G-KL1Q7SGE9T"}),Object(i.render)(r.a.createElement($,null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.53e5bef6.chunk.js.map