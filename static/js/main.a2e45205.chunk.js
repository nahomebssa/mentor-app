(this["webpackJsonpmentor-app"]=this["webpackJsonpmentor-app"]||[]).push([[0],{48:function(e,t,a){},60:function(e,t,a){e.exports=a(81)},81:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(50),c=(a(47),a(48),a(34)),o=a(21),l=a(9),s=a(7),u=a(10),m=a(14),f=a(15),h=a(8),d=a.n(h),p=(a(59),a(58));for(var E={users:[]},g=["IT & Computer Science","Biology","Physics","Accounting","Health & Medicine","Educator"],v=1;v<20;v++)E.users.push({username:"@user".concat(v),name:"User ".concat(v),email:"user".concat(v),bio:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi corporis quam, unde voluptate labore repellendus nisi facilis veniam. Laboriosam nulla fuga officia quidem sint qui odio amet pariatur quod corporis.",areaOfExpertise:function(){for(var e=Math.floor(3*Math.random()),t=[];e-- >0;)t.push(g[Math.floor(Math.random()*g.length)]);return t}(),rating:Math.floor(5*Math.random())});var b,S,y,N=function(e){return Object.freeze(e)};b=function(){},S=function(){},y=function(){};var O=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"_initialize",value:function(){e.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}()}},{key:"signInWithEmailAndPassword",value:function(t,a){var n,r="[FirebaseManager#signInWithEmailAndPassword]\n",i=(d.a.auth().signInWithEmailAndPassword(t,a).then((function(t){S("signInWithEmailAndPassword, HERE"),n=new e.AuthResult({result:t,error:null}),b("".concat(r,"Signed in user:\n").concat(t)),S(t)})).catch((function(t){n=new e.AuthResult({result:null,error:t}),b("".concat(r,"Error: couldn't sign in user\n").concat("    ",'fberr: "').concat(t,'"')),y(r,t);t.code,t.message})),n instanceof e.AuthResult);return b("".concat(r,"res: ").concat(n,"\n").concat(i?"":"not"," instanceof FirebaseManager.AuthResult")),n}},{key:"signInWithGoogle",value:function(){var e=new d.a.auth.GoogleAuthProvider;d.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken,e.user})).catch((function(e){e.code,e.message,e.email,e.credential}))}},{key:"onAuthStateChanged",value:function(){d.a.auth().onAuthStateChanged((function(e){if(e)e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData}))}}]),e}();O._initialize();var I=function(){function e(){Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"_checkEmailAndPassword",value:function(e,t){return!!(e&&t&&e.includes("@")&&e.includes("."))}},{key:"setAuthState",value:function(t){e._authState=e.AuthState.SIGNEDIN}},{key:"signIn",value:function(e){e.provider;var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,i=e.onSuccess,c=void 0===i?function(){}:i,o=e.onFail,l=void 0===o?function(){}:o;S("HERE",c),d.a.auth().signInWithEmailAndPassword(a,r).then(c).catch(l)}}]),e}();I.AuthState=N({SIGNEDIN:"AuthState.SIGNEDIN",SIGNEDOUT:"AuthState.SIGNEDOUT",GUESTMODE:"AuthState.GUESTMODE"}),I.AuthProvider=N({EMAIL:"AuthProvider.EMAIL",GOOGLE:"AuthProvider.GOOGLE"}),I.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}(),I._authState=I.AuthState.SIGNEDOUT;var j=a(89),U=a(90),k=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return I._authState==I.AuthState.SIGNEDOUT?r.a.createElement(l.a,{to:"/sign-in"}):r.a.createElement("div",{className:"HomeView"},r.a.createElement("h1",{className:"title"},"Home"),r.a.createElement(j.a,{style:{width:"18rem"}},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,"Card Title"),r.a.createElement(j.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(U.a,{href:"/profile",variant:"primary"},"Edit Profile"))),r.a.createElement(j.a,{style:{width:"18rem"}},r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,null,"Card Title"),r.a.createElement(j.a.Text,null,"Some quick example text to build on the card title and make up the bulk of the card's content."),r.a.createElement(U.a,{href:"/explore",variant:"primary"},"Search for a mentor"))))}}]),a}(n.Component),A=a(39),w=a(37),P=function(){function e(t){Object(w.a)(t),Object(s.a)(this,e)}return Object(u.a)(e,null,[{key:"searchFor",value:function(e){var t;e.query,e.sortBy,e.callback;(t=d.a.firestore().collection("users")).where.apply(t,["","",""]).get().catch(console.error).then((function(e){}))}},{key:"userExist",value:function(e){var t=e.name;d.a.firestore().collection("users").doc("Dunton James").get().then((function(e){e.exists?console.log(t,"Document data:",e.data()):alert("No such document!")})).catch((function(e){console.log("Error getting document",e)}))}}]),e}();P.SearchQuery=function(){return function e(){Object(s.a)(this,e)}}(),P.SearchResult=function(){return function e(){Object(s.a)(this,e)}}();var x=a(83);function C(e){var t=e.onTextChange,a=Object(n.useState)(""),i=Object(A.a)(a,2),c=i[0],o=i[1];return r.a.createElement("div",{className:"SearchBox flex fww fdc"},r.a.createElement("input",{type:"text",value:c,onChange:function(e){o(e.target.value),t(e.target.value)},autoFocus:!0}),r.a.createElement("span",{style:{fontFamily:"monospace"}},c))}var G=function(e){var t,a=e.value,n=e.iconName;return r.a.createElement("div",{className:"Rating flex"},(t=5,Object(p.a)(Array(t).keys())).map((function(e,t){return r.a.createElement("i",{key:t,className:"material-icons ".concat(t<a?"--filled":"--empty")},n)})))};function R(e){var t=e.user,a=t.name,n=t.bio,i=t.areaOfExpertise,c=t.rating;return r.a.createElement(j.a,null,r.a.createElement(j.a.Img,{variant:"top",src:"#",style:{minHeight:"30vh",background:"slategrey"}}),r.a.createElement(j.a.Body,null,r.a.createElement(j.a.Title,{as:function(e){var t=Object.assign({},e);return r.a.createElement("h3",t)}},a),r.a.createElement(j.a.Text,null,n),r.a.createElement(G,{value:c}),i.map((function(e,t){return r.a.createElement(x.a,{variant:"secondary",className:"p-2 mr-2",key:t},e)}))))}function M(e){var t=e.results;return r.a.createElement("div",{className:"SearchResults flex fdc"},t.map((function(e,a){var n={user:t[a]};return r.a.createElement(R,{key:a,user:n.user})})))}function F(){var e=Object(n.useState)(""),t=Object(A.a)(e,2),a=t[0],i=t[1],c=Object(n.useState)(E.users||[]),o=Object(A.a)(c,2),l=o[0];o[1];return r.a.createElement("div",{className:"ExploreView flex fdc"},r.a.createElement(C,{onTextChange:function(e){return i(e)}}),r.a.createElement("button",{onClick:function(){P.searchFor({query:a}),console.log()}},"send data"),r.a.createElement(M,{results:l}))}var T=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"InboxView flex",style:{height:"100%"}},r.a.createElement("div",{className:"coming-soon flex-1 flex aic jcc"},r.a.createElement("p",null,"Coming soon...")))}}]),a}(n.Component),L=a(13);a(51),a(38);var D=function(e){return r.a.createElement("h2",{className:"title"},"Edit Profile")},B=(n.Component,n.Component,function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);S("[ProfileView#constructor]","props.profile: ",n.props.profile);var r=n.props.profile,i=void 0===r?{}:r;return n.state={profile:i||{isEmptyProfile:!0},iName:i.name||"",iUsername:i.username||"",iBio:i.bio||"",iEmail:i.email||""},n.saveChanges=n.saveChanges.bind(Object(L.a)(n)),n.onProfileRefGet=n.onProfileRefGet.bind(Object(L.a)(n)),n.onProfileRefGetError=n.onProfileRefGetError.bind(Object(L.a)(n)),n.getProfile=n.loadProfile.bind(Object(L.a)(n)),n.loadProfile(),n}return Object(u.a)(a,[{key:"onProfileUpdated",value:function(){alert("Your changes have been saved.")}},{key:"saveChanges",value:function(){var e="[ProfileForm#saveChanges]",t=this.state,a=t.name,n=t.bio;b("saving changes...\nname: ".concat(a,"\nbio: ").concat(n));var r=d.a.auth().currentUser,i=(r.displayName,r.email,r.photoURL,r.emailVerified,r.uid);r.updateProfile({displayName:this.state.name}).then((function(){b("".concat(e," updated profile"))})).catch((function(t){b("".concat(e," failed to update profile")),S(e,t)}));var c=d.a.firestore().collection("/users").doc(i),o={name:this.state.iName,username:this.state.iUsername,bio:this.state.iBio,email:this.state.iEmail};S(o),c.set(o),this.onProfileUpdated()}},{key:"onProfileRefGet",value:function(e){if(e.exists){var t=e.data();this.setState({profile:t,iName:t.name,iUsername:t.username,iBio:t.bio,iEmail:t.email}),this.forceUpdate(),S("".concat("[ProfileView#onProfileRefGet]"," this.state.profile"),this.state.profile)}else console.log("No such document 'doc.data()' defined!")}},{key:"onProfileRefGetError",value:function(e){console.log("Error getting document:",e),b("".concat("[ProfileView#onProfileRefGetError]"," Error getting document: ").concat(e))}},{key:"loadProfile",value:function(){if(!d.a.auth().currentUser)return b("NO CURUSER"),void this.setState({signedIn:!1});var e=d.a.auth().currentUser,t=e||{},a=(t.displayName,t.email,t.photoURL,t.emailVerified,t.uid);d.a.firestore().collection("/users").doc(a).get().then(this.onProfileRefGet).catch(this.onProfileRefGetError),S("user: ",e)}},{key:"render",value:function(){var e=this,t=function(e){var t=Object.assign({},e);return r.a.createElement("div",t)},a=function(e){var t=Object.assign({},e);return r.a.createElement("label",Object.assign({className:"flex aifs"},t))};a.Left=function(e){var t=e.children;return r.a.createElement("span",{style:{width:"30%"}},t)};var n=this.state;n.profile,n.signedIn;return r.a.createElement("div",{className:"ProfileView"},r.a.createElement("div",{className:"flex fdc"},r.a.createElement(D,null),r.a.createElement(t,{className:"profile-form flex fww"},r.a.createElement(a,null,r.a.createElement(a.Left,null,"Name"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Name",value:this.state.iName,onChange:function(t){return e.setState({iName:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Username"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Username",value:this.state.iUsername,onChange:function(t){return e.setState({iUsername:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Bio"),r.a.createElement("textarea",{style:{width:"70%"},placeholder:"Insert bio here...",value:this.state.iBio,onChange:function(t){return e.setState({iBio:t.target.value})}})),r.a.createElement("div",{id:"btns",className:"flex "},r.a.createElement("input",{className:"btn btn-primary flex-1",type:"button",onClick:function(t){e.saveChanges()},value:"Save changes"})))))}}]),a}(n.Component)),V=a(88),_=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={email:"",password:"",errorMessage:"",gotSignedIn:!1},n.REDIRECT_URL="/profile",n.onSignInFail=n.onSignInFail.bind(Object(L.a)(n)),n.onSignInSuccess=n.onSignInSuccess.bind(Object(L.a)(n)),n.handleSignIn=n.handleSignIn.bind(Object(L.a)(n)),n}return Object(u.a)(a,[{key:"onSignInSuccess",value:function(e){b("".concat("[SignInForm#onSignInSuccess]"," Sign in successful!"));var t=this.props;t.history,t.successPath;I.setAuthState(I.AuthState.SIGNEDIN),this.setState({gotSignedIn:!0})}},{key:"onSignInFail",value:function(e){b("Failed to sign in :( ..."),y("error",e),this.setState({errorMessage:"".concat(e)})}},{key:"handleSignIn",value:function(){var e=this.state,t=e.email,a=e.password;b("Signing in...\nemail: ".concat(t,"\npassword: ").concat(a)),I.signIn({provider:I.AuthProvider.EMAIL,email:t,password:a,onSuccess:this.onSignInSuccess,onFail:this.onSignInFail})}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorMessage;if(!0===t.gotSignedIn)return r.a.createElement(l.a,{to:this.REDIRECT_URL});var n=""!==a;return r.a.createElement("div",{className:"AuthForm --sign-in"},r.a.createElement("div",{className:"msg-banner ".concat(n?"--error":"--hidden")},a),r.a.createElement("form",{className:"flex fdc"},r.a.createElement("input",{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"flex asfe pad-10"},r.a.createElement(o.b,{to:"/sign-up",className:"btn btn-link"},"Sign up"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Sign In",onClick:function(){return e.handleSignIn()}}))))}}]),a}(r.a.Component),q=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={fullName:"",email:"",password:"",errorMessage:"",gotSignedUp:!1},n.onSignUpSuccess=n.onSignUpSuccess.bind(Object(L.a)(n)),n.onSignUpFail=n.onSignUpFail.bind(Object(L.a)(n)),n}return Object(u.a)(a,[{key:"onSignUpSuccess",value:function(e){var t="[SignUpForm#onSignUpSuccess]";b("".concat(t," SUCCESS \n").concat(e)),S(t,e),S(t,d.a.auth().currentUser),d.a.auth().currentUser.updateProfile({displayName:this.state.fullName}).then((function(){b("".concat(t," updated profile"))})).catch((function(e){b("".concat(t," failed to update profile")),S(t,e)})),d.a.firestore().collection("users").doc(e.user.uid).set({isSetup:"no?false:true",name:"<no name>",bio:"<no bio>"}),this.setState({gotSignedUp:!0})}},{key:"onSignUpFail",value:function(e){var t="[SignUpForm#onSignUpFail]";b("".concat(t," FAILED \n").concat(e)),y(t,e),this.setState({errorMessage:"".concat(e)})}},{key:"handleSignUp",value:function(){var e=this.state,t=e.email,a=e.password;b("Signing up...\nemail: ".concat(t,"\npassword: ").concat(a)),d.a.auth().createUserWithEmailAndPassword(t,a).then(this.onSignUpSuccess).catch(this.onSignUpFail)}},{key:"render",value:function(){var e=this,t=this.state,a=t.errorMessage;if(!0===t.gotSignedUp)return r.a.createElement(l.a,{to:"/sign-in"});var n=""!==a,i=a;return r.a.createElement("div",{className:"auth-form --sign-up"},r.a.createElement("div",{className:"msg-banner ".concat(n?"--error":"--hidden")},i),r.a.createElement(V.a,null,r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"text",placeholder:"Full Name",value:this.state.fullName,onChange:function(t){return e.setState({fullName:t.target.value})}})),r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(V.a.Group,{className:"mb-0"},r.a.createElement(V.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(o.b,{to:"/sign-in",className:"btn btn-link",style:{flex:1}},"Sign in"),r.a.createElement(V.a.Control,{className:"btn-primary",type:"submit",value:"Sign Up",onClick:function(){return e.handleSignUp()}}))))}}]),a}(r.a.Component),H=function(e){return null},W=function(e){Object(m.a)(a,e);var t=Object(f.a)(a);function a(e){return Object(s.a)(this,a),t.call(this,e)}return Object(u.a)(a,[{key:"render",value:function(){var e=null,t=!1;switch(this.props.authMode){case"AuthMode.SIGNIN":e=r.a.createElement(_,null);break;case"AuthMode.SIGNUP":e=r.a.createElement(q,null);break;case"AuthMode.SIGNOUT":e=r.a.createElement(H,null),t=!0}return r.a.createElement("div",{className:"flex fdc aic jcc --full-screen-absolute --bg-accent --fg-white"},t?null:r.a.createElement("h1",{className:"title"},"Mentor Finder"),e)}}]),a}(n.Component);var z=a(84),J=a(85),Q=a(86),K=a(87),Y=(Object(n.createContext)(),function(e){var t=e.tabs;return r.a.createElement("nav",{className:"AppTabs"},r.a.createElement("ul",null,t.map((function(e,t){var a=e.href,n=e.icon;return r.a.createElement("li",{key:t},r.a.createElement(o.b,{to:a},r.a.createElement(n,{size:24})))}))))}),X=function(){return r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/explore"},r.a.createElement(F,null)),r.a.createElement(l.b,{path:"/inbox"},r.a.createElement(T,null)),r.a.createElement(l.b,{path:"/profile"},r.a.createElement(B,null)),r.a.createElement(l.b,{path:"/sign-in"},r.a.createElement(W,{authMode:"AuthMode.SIGNIN",successPath:"/profile"})),r.a.createElement(l.b,{path:"/sign-up"},r.a.createElement(W,{authMode:"AuthMode.SIGNUP"})),r.a.createElement(l.b,{path:"/sign-out"},r.a.createElement(W,{authMode:"AuthMode.SIGNOUT"})),r.a.createElement(l.b,{path:"/"},r.a.createElement(k,null)))},Z=function(e){var t=e.children,a=(Object(c.a)(e,["children"]),[{href:"/",icon:z.a},{href:"/explore",icon:J.a},{href:"/inbox",icon:Q.a},{href:"/profile",icon:K.a}]),n=function(e){var t=e.children;return r.a.createElement("header",{className:"AppHeader"},t)},i=function(e){var t=e.children;return r.a.createElement("main",{className:"AppMain"},t)};return r.a.createElement("div",{className:"App"},r.a.createElement(n,null,r.a.createElement("h1",null,"Mentor Finder")),r.a.createElement(i,null,t,r.a.createElement(X,null)),r.a.createElement(Y,{tabs:a}))};function $(){return"/dist/app.html",r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{basename:"/dist/app.html"},r.a.createElement(Z,null)))}Object(h.initializeApp)({apiKey:"AIzaSyCmE6rP0Vsuherr46YH8-OQ_SoRXyp6_gg",authDomain:"mentor-finder-app.firebaseapp.com",databaseURL:"https://mentor-finder-app.firebaseio.com",projectId:"mentor-finder-app",storageBucket:"mentor-finder-app.appspot.com",messagingSenderId:"223437150523",appId:"1:223437150523:web:3885fb7f8739c0d1a23f1e",measurementId:"G-KL1Q7SGE9T"}),Object(i.render)(r.a.createElement($,null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.a2e45205.chunk.js.map