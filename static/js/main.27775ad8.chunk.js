(this["webpackJsonpmentor-app"]=this["webpackJsonpmentor-app"]||[]).push([[0],{50:function(e,t,a){},67:function(e,t,a){e.exports=a(88)},88:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),c=(a(49),a(50),a(52)),l=a(17),i=a(26),u=a(8),s=a(9),m=a(13),f=a(19),h=a(20),d=a(6),p=a.n(d),E=a(99),v=a(91),g=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return console.log(p.a.auth().currentUser),null==p.a.auth().currentUser?r.a.createElement(u.a,{to:"/sign-in"}):r.a.createElement("div",{className:"HomeView"},r.a.createElement(E.a,{style:{width:"18rem"}},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,"Quickly share a couple of details about yourself. Let them know who you are!"),r.a.createElement(v.a,{href:"/profile",variant:"primary"},"Edit Profile"))),r.a.createElement(E.a,{style:{width:"18rem"}},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,"Your professor breezed through the lecture? You didn't figure out the answer to your question? Have a degree but don't know what to do with it? I've got you covered."),r.a.createElement(v.a,{href:"/explore",variant:"primary"},"Search for a mentor"))))}}]),a}(n.Component),b=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,null,[{key:"searchFor",value:function(e){var t;e.query,e.sortBy,e.callback;(t=p.a.firestore().collection("users")).where.apply(t,["","",""]).get().catch(console.error).then((function(e){}))}},{key:"userExist",value:function(e){var t=e.name;p.a.firestore().collection("users").doc("Dunton James").get().then((function(e){e.exists?console.log(t,"Document data:",e.data()):alert("No such document!")})).catch((function(e){console.log("Error getting document",e)}))}}]),e}();b.SearchQuery=function(){return function e(){Object(s.a)(this,e)}}(),b.SearchResult=function(){return function e(){Object(s.a)(this,e)}}();var S=a(92),O=(a(65),a(64));for(var y={users:[]},j=["IT & Computer Science","Biology","Physics","Accounting","Health & Medicine","Educator"],N=1;N<20;N++)y.users.push({username:"@user".concat(N),name:"User ".concat(N),email:"user".concat(N),bio:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi corporis quam, unde voluptate labore repellendus nisi facilis veniam. Laboriosam nulla fuga officia quidem sint qui odio amet pariatur quod corporis.",areaOfExpertise:function(){for(var e=Math.floor(3*Math.random()),t=[];e-- >0;)t.push(j[Math.floor(Math.random()*j.length)]);return t}(),rating:Math.floor(5*Math.random())});var I,w,A,P=function(e){return Object.freeze(e)};function k(e){var t=e.onTextChange,a=Object(n.useState)(""),o=Object(l.a)(a,2),c=o[0],i=o[1];return r.a.createElement("div",{className:"SearchBox flex fww fdc"},r.a.createElement("input",{type:"text",value:c,onChange:function(e){i(e.target.value),t(e.target.value)},autoFocus:!0}),r.a.createElement("span",{style:{fontFamily:"monospace"}},c))}I=function(){},w=function(){},A=function(){};var C=function(e){var t,a=e.value,n=e.iconName;return r.a.createElement("div",{className:"Rating flex"},(t=5,Object(O.a)(Array(t).keys())).map((function(e,t){return r.a.createElement("i",{key:t,className:"material-icons ".concat(t<a?"--filled":"--empty")},n)})))};function G(e){var t=e.user,a=t.name,n=t.bio,o=t.areaOfExpertise,c=t.rating;return r.a.createElement(E.a,null,r.a.createElement(E.a.Img,{variant:"top",src:"#",style:{minHeight:"30vh",background:"slategrey"}}),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,r.a.createElement("h3",null,a)),r.a.createElement(E.a.Text,null,n),r.a.createElement(C,{value:c}),o.map((function(e,t){return r.a.createElement(S.a,{variant:"secondary",className:"p-2 mr-2",key:t},e)}))))}function x(e){var t=e.results;return r.a.createElement("div",{className:"SearchResults flex fdc"},t.map((function(e,a){var n={user:t[a]};return r.a.createElement(G,{key:a,user:n.user})})))}function U(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),i=Object(l.a)(c,2),u=i[0];(0,i[1])(y.users||[]);return console.log(p.a.auth().currentUser),r.a.createElement("div",{className:"ExploreView flex fdc"},r.a.createElement(k,{onTextChange:function(e){return o(e)}}),r.a.createElement("button",{onClick:function(){b.searchFor({query:a})}},"send data"),r.a.createElement(x,{results:u}))}var M=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return console.log(p.a.auth().currentUser),r.a.createElement("div",{className:"InboxView flex",style:{height:"100%"}},r.a.createElement("div",{className:"coming-soon flex-1 flex aic jcc"},r.a.createElement("p",null,"Coming soon...")))}}]),a}(n.Component),R=a(21),F=function(e){return r.a.createElement("h2",{className:"title"},"Edit Profile")},T=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(e){var n;Object(s.a)(this,a),n=t.call(this,e);w("[ProfileView#constructor]","props.profile: ",n.props.profile);var r=n.props.profile,o=void 0===r?{}:r;return n.state={profile:o||{isEmptyProfile:!0},iName:o.name||"",iUsername:o.username||"",iBio:o.bio||"",iEmail:o.email||""},n.saveChanges=n.saveChanges.bind(Object(R.a)(n)),n.onProfileRefGet=n.onProfileRefGet.bind(Object(R.a)(n)),n.onProfileRefGetError=n.onProfileRefGetError.bind(Object(R.a)(n)),n.getProfile=n.loadProfile.bind(Object(R.a)(n)),n.loadProfile(),n}return Object(m.a)(a,[{key:"onProfileUpdated",value:function(){alert("Your changes have been saved.")}},{key:"saveChanges",value:function(){var e="[ProfileForm#saveChanges]",t=this.state,a=t.name,n=t.bio;I("saving changes...\nname: ".concat(a,"\nbio: ").concat(n));var r=p.a.auth().currentUser,o=r.uid;r.updateProfile({displayName:this.state.name}).then((function(){I("".concat(e," updated profile"))})).catch((function(t){I("".concat(e," failed to update profile")),w(e,t)}));var c=p.a.firestore().collection("/users").doc(o),l={name:this.state.iName,username:this.state.iUsername,bio:this.state.iBio,email:this.state.iEmail};w(l),c.set(l),this.onProfileUpdated()}},{key:"onProfileRefGet",value:function(e){if(e.exists){var t=e.data();this.setState({profile:t,iName:t.name,iUsername:t.username,iBio:t.bio,iEmail:t.email}),this.forceUpdate(),w("".concat("[ProfileView#onProfileRefGet]"," this.state.profile"),this.state.profile)}else console.log("No such document 'doc.data()' defined!")}},{key:"onProfileRefGetError",value:function(e){console.log("Error getting document:",e),I("".concat("[ProfileView#onProfileRefGetError]"," Error getting document: ").concat(e))}},{key:"loadProfile",value:function(){if(!p.a.auth().currentUser)return I("NO CURUSER"),void this.setState({signedIn:!1});var e=p.a.auth().currentUser,t=(e||{}).uid;p.a.firestore().collection("/users").doc(t).get().then(this.onProfileRefGet).catch(this.onProfileRefGetError),w("user: ",e)}},{key:"render",value:function(){var e=this,t=function(e){var t=Object.assign({},e);return r.a.createElement("div",t)},a=function(e){var t=Object.assign({},e);return r.a.createElement("label",Object.assign({className:"flex aifs"},t))};a.Left=function(e){var t=e.children;return r.a.createElement("span",{style:{width:"30%"}},t)};var n=r.a.createElement("div",{className:"ProfileView"},r.a.createElement("div",{className:"flex fdc"},r.a.createElement(F,null),r.a.createElement(t,{className:"profile-form flex fww"},r.a.createElement(a,null,r.a.createElement(a.Left,null,"Name"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Name",value:this.state.iName,onChange:function(t){return e.setState({iName:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Username"),r.a.createElement("input",{style:{width:"70%"},type:"text",placeholder:"Username",value:this.state.iUsername,onChange:function(t){return e.setState({iUsername:t.target.value})}})),r.a.createElement(a,null,r.a.createElement(a.Left,null,"Bio"),r.a.createElement("textarea",{style:{width:"70%"},placeholder:"Insert bio here...",value:this.state.iBio,onChange:function(t){return e.setState({iBio:t.target.value})}})),r.a.createElement("div",{id:"btns",className:"flex "},r.a.createElement("input",{className:"btn btn-primary flex-1",type:"button",onClick:function(t){e.saveChanges()},value:"Save changes"})))));return console.log(p.a.auth().currentUser),n}}]),a}(n.Component),L=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,null,[{key:"_initialize",value:function(){e.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}()}},{key:"signInWithEmailAndPassword",value:function(t,a){var n,r="[FirebaseManager#signInWithEmailAndPassword]\n";p.a.auth().signInWithEmailAndPassword(t,a).then((function(t){w("signInWithEmailAndPassword, HERE"),n=new e.AuthResult({result:t,error:null}),I("".concat(r,"Signed in user:\n").concat(t)),w(t)})).catch((function(t){n=new e.AuthResult({result:null,error:t}),I("".concat(r,"Error: couldn't sign in user\n").concat("    ",'fberr: "').concat(t,'"')),A(r,t)}));var o=n instanceof e.AuthResult;return I("".concat(r,"res: ").concat(n,"\n").concat(o?"":"not"," instanceof FirebaseManager.AuthResult")),n}},{key:"signInWithGoogle",value:function(){var e=new p.a.auth.GoogleAuthProvider;p.a.auth().signInWithPopup(e).then((function(e){})).catch((function(e){}))}},{key:"onAuthStateChanged",value:function(){p.a.auth().onAuthStateChanged((function(e){}))}}]),e}();L._initialize();var D=function(){function e(){Object(s.a)(this,e)}return Object(m.a)(e,null,[{key:"_checkEmailAndPassword",value:function(e,t){return!!(e&&t&&e.includes("@")&&e.includes("."))}},{key:"setAuthState",value:function(t){e._authState=e.AuthState.SIGNEDIN}},{key:"signIn",value:function(e){e.provider;var t=e.email,a=void 0===t?"":t,n=e.password,r=void 0===n?"":n,o=e.onSuccess,c=void 0===o?function(){}:o,l=e.onFail,i=void 0===l?function(){}:l;w("HERE",c),p.a.auth().signInWithEmailAndPassword(a,r).then(c).catch(i)}}]),e}();D.AuthState=P({SIGNEDIN:"AuthState.SIGNEDIN",SIGNEDOUT:"AuthState.SIGNEDOUT",GUESTMODE:"AuthState.GUESTMODE"}),D.AuthProvider=P({EMAIL:"AuthProvider.EMAIL",GOOGLE:"AuthProvider.GOOGLE"}),D.AuthResult=function(){return function e(t){var a=t.result,n=t.error;Object(s.a)(this,e),this.result=a,this.error=n}}(),D._authState=D.AuthState.SIGNEDOUT;var B=a(97),_=a(98),H=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={email:"",password:"",errorMessage:"",gotSignedIn:!1},e.handleSignIn=function(){var t=e.state,a=t.email,n=t.password;I("Signing in...\nemail: ".concat(a,"\npassword: ").concat(n));var r=D.AuthProvider.EMAIL;D.signIn({provider:r,email:a,password:n,onSuccess:function(t){D.setAuthState(D.AuthState.SIGNEDIN),e.setState({gotSignedIn:!0})},onFail:function(t){I("Failed to sign in :( ..."),A("error",t),e.setState({errorMessage:"".concat(t)})}})},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this,t=this.state,a=t.errorMessage;if(!0===t.gotSignedIn)return r.a.createElement(u.a,{to:this.REDIRECT_URL});var n="msg-banner ".concat(""!==a?"--error":"--hidden");return r.a.createElement("div",{className:"AuthForm --sign-in"},r.a.createElement("div",{className:n},a),r.a.createElement("form",{className:"flex fdc"},r.a.createElement("input",{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"flex asfe pad-10"},r.a.createElement(i.b,{to:"/sign-up",className:"btn btn-link"},"Sign up"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Sign In",onClick:function(){return e.handleSignIn()}}))))}}]),a}(r.a.Component);H.REDIRECT_URL="/profile";r.a.Component;var V=function(e){return null};function q(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),i=Object(l.a)(c,2),s=i[0],m=i[1],f=Object(n.useState)(""),h=Object(l.a)(f,2),d=h[0],p=h[1],E=Object(n.useState)(""),g=Object(l.a)(E,2),b=g[0],S=g[1];if(!0===b)return r.a.createElement(u.a,{to:"/profile"});var O=""!==d;return r.a.createElement(B.a,null,O&&r.a.createElement(_.a,{variant:"danger"},d),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{type:"email",placeholder:"Email",value:a,onChange:function(e){return o(e.target.value)},autoFocus:!0})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{type:"password",placeholder:"Password",value:s,onChange:function(e){return m(e.target.value)},autoFocus:!0})),r.a.createElement(B.a.Group,null,r.a.createElement(v.a,{variant:"link",href:"/sign-up"},"Sign Up"),r.a.createElement(v.a,{onClick:function(){I("Signing in...\nemail: ".concat(a,"\npassword: ").concat(s));var e=D.AuthProvider.EMAIL;D.signIn({provider:e,email:a,password:s,onSuccess:function(e){D.setAuthState(D.AuthState.SIGNEDIN),S(!0)},onFail:function(e){I("Failed to sign in :( ..."),A("error",e),p("".concat(e))}})}},"Sign In")))}function z(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),i=Object(l.a)(c,2),u=i[0],s=i[1];return r.a.createElement(B.a,null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{placeholder:"Username",value:a,onChange:function(e){return o(e.target.value)},autoFocus:!0})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{placeholder:"Password",value:u,onChange:function(e){return s(e.target.value)},autoFocus:!0})),r.a.createElement(B.a.Group,null,r.a.createElement(v.a,{variant:"link"},"Sign In"),r.a.createElement(v.a,null,"Sign Up")))}function W(e){var t=null,a=!1;switch(e.authMode){case"AuthMode.SIGNIN":t=r.a.createElement(q,null);break;case"AuthMode.SIGNUP":t=r.a.createElement(z,null);break;case"AuthMode.SIGNOUT":t=r.a.createElement(V,null),a=!0;break;default:t=r.a.createElement(q,null)}return console.log(p.a.auth().currentUser),r.a.createElement("div",{className:"flex fdc aic jcc --full-screen-absolute --bg-accent --fg-white"},a?null:r.a.createElement("h1",{className:"title"},"Mentor Finder"),t)}var Q=a(93),Y=a(94),J=a(95),K=a(96),X=Object(n.createContext)(),Z=function(e){var t=Object.assign({},e),a=Object(n.useState)("Profile"),o=Object(l.a)(a,2),c={currentTab:o[0],setCurrentTab:o[1]};return r.a.createElement(X.Provider,Object.assign({},t,{value:c}))},$=function(e){var t=e.tabs;return r.a.createElement("nav",{className:"AppTabs"},r.a.createElement("ul",null,t.map((function(e,t){var a=e.href,n=e.icon;return r.a.createElement("li",{key:t},r.a.createElement(i.b,{to:a},r.a.createElement(n,{size:24})))}))))},ee=function(){return r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/explore",component:U}),r.a.createElement(u.b,{path:"/inbox",component:M}),r.a.createElement(u.b,{path:"/profile",component:T}),r.a.createElement(u.b,{path:"/sign-in"},r.a.createElement(W,{authMode:"AuthMode.SIGNIN",successPath:"/profile"})),r.a.createElement(u.b,{path:"/sign-up"},r.a.createElement(W,{authMode:"AuthMode.SIGNUP"})),r.a.createElement(u.b,{path:"/sign-out"},r.a.createElement(W,{authMode:"AuthMode.SIGNOUT"})),r.a.createElement(u.b,{path:"/",component:g}))},te=function(e){var t=e.children,a=(Object(c.a)(e,["children"]),[{href:"/",icon:Q.a},{href:"/explore",icon:Y.a},{href:"/inbox",icon:J.a},{href:"/profile",icon:K.a}]),n=function(e){var t=e.children;return r.a.createElement("header",{className:"AppHeader"},t)},o=function(e){var t=e.children;return r.a.createElement("main",{className:"AppMain"},t)};return r.a.createElement("div",{className:"App"},r.a.createElement(n,null,r.a.createElement("b",null,"Mentor Finder")),r.a.createElement(o,null,t,r.a.createElement(ee,null)),r.a.createElement($,{tabs:a}))};function ae(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Z,null,r.a.createElement(i.a,{basename:void 0},r.a.createElement(te,null))))}Object(d.initializeApp)({apiKey:"AIzaSyCmE6rP0Vsuherr46YH8-OQ_SoRXyp6_gg",authDomain:"mentor-finder-app.firebaseapp.com",databaseURL:"https://mentor-finder-app.firebaseio.com",projectId:"mentor-finder-app",storageBucket:"mentor-finder-app.appspot.com",messagingSenderId:"223437150523",appId:"1:223437150523:web:3885fb7f8739c0d1a23f1e",measurementId:"G-KL1Q7SGE9T"}),Object(o.render)(r.a.createElement(ae,null),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.27775ad8.chunk.js.map