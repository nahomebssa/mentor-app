(this["webpackJsonpmentor-app"]=this["webpackJsonpmentor-app"]||[]).push([[0],{48:function(e,t,n){},60:function(e,t,n){e.exports=n(81)},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(50),o=(n(47),n(48),n(34),n(25)),s=n(9),c=n(7),u=n(10),l=n(14),h=n(15),m=n(8),d=n.n(m);n(59),n(58);for(var p={users:[]},f=["IT & Computer Science","Biology","Physics","Accounting","Health & Medicine","Educator"],g=1;g<20;g++)p.users.push({username:"@user".concat(g),name:"User ".concat(g),email:"user".concat(g),bio:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Commodi corporis quam, unde voluptate labore repellendus nisi facilis veniam. Laboriosam nulla fuga officia quidem sint qui odio amet pariatur quod corporis.",areaOfExpertise:function(){for(var e=Math.floor(3*Math.random()),t=[];e-- >0;)t.push(f[Math.floor(Math.random()*f.length)]);return t}(),rating:Math.floor(5*Math.random())});var S,v,E,b=function(e){return Object.freeze(e)};S=function(){},v=function(){},E=function(){};var I=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"_initialize",value:function(){e.AuthResult=function(){return function e(t){var n=t.result,a=t.error;Object(c.a)(this,e),this.result=n,this.error=a}}()}},{key:"signInWithEmailAndPassword",value:function(t,n){var a,r="[FirebaseManager#signInWithEmailAndPassword]\n",i=(d.a.auth().signInWithEmailAndPassword(t,n).then((function(t){v("signInWithEmailAndPassword, HERE"),a=new e.AuthResult({result:t,error:null}),S("".concat(r,"Signed in user:\n").concat(t)),v(t)})).catch((function(t){a=new e.AuthResult({result:null,error:t}),S("".concat(r,"Error: couldn't sign in user\n").concat("    ",'fberr: "').concat(t,'"')),E(r,t);t.code,t.message})),a instanceof e.AuthResult);return S("".concat(r,"res: ").concat(a,"\n").concat(i?"":"not"," instanceof FirebaseManager.AuthResult")),a}},{key:"signInWithGoogle",value:function(){var e=new d.a.auth.GoogleAuthProvider;d.a.auth().signInWithPopup(e).then((function(e){e.credential.accessToken,e.user})).catch((function(e){e.code,e.message,e.email,e.credential}))}},{key:"onAuthStateChanged",value:function(){d.a.auth().onAuthStateChanged((function(e){if(e)e.displayName,e.email,e.emailVerified,e.photoURL,e.isAnonymous,e.uid,e.providerData}))}}]),e}();I._initialize();var y=function(){function e(){Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"_checkEmailAndPassword",value:function(e,t){return!!(e&&t&&e.includes("@")&&e.includes("."))}},{key:"setAuthState",value:function(t){e._authState=e.AuthState.SIGNEDIN}},{key:"signIn",value:function(e){e.provider;var t=e.email,n=void 0===t?"":t,a=e.password,r=void 0===a?"":a,i=e.onSuccess,o=void 0===i?function(){}:i,s=e.onFail,c=void 0===s?function(){}:s;v("HERE",o),d.a.auth().signInWithEmailAndPassword(n,r).then(o).catch(c)}}]),e}();y.AuthState=b({SIGNEDIN:"AuthState.SIGNEDIN",SIGNEDOUT:"AuthState.SIGNEDOUT",GUESTMODE:"AuthState.GUESTMODE"}),y.AuthProvider=b({EMAIL:"AuthProvider.EMAIL",GOOGLE:"AuthProvider.GOOGLE"}),y.AuthResult=function(){return function e(t){var n=t.result,a=t.error;Object(c.a)(this,e),this.result=n,this.error=a}}(),y._authState=y.AuthState.SIGNEDOUT;var O=n(89),A=n(90),N=(a.Component,n(39),n(37)),U=function(){function e(t){Object(N.a)(t),Object(c.a)(this,e)}return Object(u.a)(e,null,[{key:"searchFor",value:function(e){var t;e.query,e.sortBy,e.callback;(t=d.a.firestore().collection("users")).where.apply(t,["","",""]).get().catch(console.error).then((function(e){}))}},{key:"userExist",value:function(e){var t=e.name;d.a.firestore().collection("users").doc("Dunton James").get().then((function(e){e.exists?console.log(t,"Document data:",e.data()):alert("No such document!")})).catch((function(e){console.log("Error getting document",e)}))}}]),e}();U.SearchQuery=function(){return function e(){Object(c.a)(this,e)}}(),U.SearchResult=function(){return function e(){Object(c.a)(this,e)}}();n(83);a.Component;var w=n(13);n(51),n(38);var j=function(e){return r.a.createElement("h2",{className:"title"},"Edit Profile")},C=(a.Component,a.Component,a.Component,n(88)),k=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",errorMessage:"",gotSignedIn:!1},a.REDIRECT_URL="/profile",a.onSignInFail=a.onSignInFail.bind(Object(w.a)(a)),a.onSignInSuccess=a.onSignInSuccess.bind(Object(w.a)(a)),a.handleSignIn=a.handleSignIn.bind(Object(w.a)(a)),a}return Object(u.a)(n,[{key:"onSignInSuccess",value:function(e){S("".concat("[SignInForm#onSignInSuccess]"," Sign in successful!"));var t=this.props;t.history,t.successPath;y.setAuthState(y.AuthState.SIGNEDIN),this.setState({gotSignedIn:!0})}},{key:"onSignInFail",value:function(e){S("Failed to sign in :( ..."),E("error",e),this.setState({errorMessage:"".concat(e)})}},{key:"handleSignIn",value:function(){var e=this.state,t=e.email,n=e.password;S("Signing in...\nemail: ".concat(t,"\npassword: ").concat(n)),y.signIn({provider:y.AuthProvider.EMAIL,email:t,password:n,onSuccess:this.onSignInSuccess,onFail:this.onSignInFail})}},{key:"render",value:function(){var e=this,t=this.state,n=t.errorMessage;if(!0===t.gotSignedIn)return r.a.createElement(s.a,{to:this.REDIRECT_URL});var a=""!==n;return r.a.createElement("div",{className:"AuthForm --sign-in"},r.a.createElement("div",{className:"msg-banner ".concat(a?"--error":"--hidden")},n),r.a.createElement("form",{className:"flex fdc"},r.a.createElement("input",{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement("input",{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement("div",{className:"flex asfe pad-10"},r.a.createElement(o.a,{to:"/sign-up",className:"btn btn-link"},"Sign up"),r.a.createElement("input",{className:"btn btn-primary",type:"button",value:"Sign In",onClick:function(){return e.handleSignIn()}}))))}}]),n}(r.a.Component),F=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={fullName:"",email:"",password:"",errorMessage:"",gotSignedUp:!1},a.onSignUpSuccess=a.onSignUpSuccess.bind(Object(w.a)(a)),a.onSignUpFail=a.onSignUpFail.bind(Object(w.a)(a)),a}return Object(u.a)(n,[{key:"onSignUpSuccess",value:function(e){var t="[SignUpForm#onSignUpSuccess]";S("".concat(t," SUCCESS \n").concat(e)),v(t,e),v(t,d.a.auth().currentUser),d.a.auth().currentUser.updateProfile({displayName:this.state.fullName}).then((function(){S("".concat(t," updated profile"))})).catch((function(e){S("".concat(t," failed to update profile")),v(t,e)})),d.a.firestore().collection("users").doc(e.user.uid).set({isSetup:"no?false:true",name:"<no name>",bio:"<no bio>"}),this.setState({gotSignedUp:!0})}},{key:"onSignUpFail",value:function(e){var t="[SignUpForm#onSignUpFail]";S("".concat(t," FAILED \n").concat(e)),E(t,e),this.setState({errorMessage:"".concat(e)})}},{key:"handleSignUp",value:function(){var e=this.state,t=e.email,n=e.password;S("Signing up...\nemail: ".concat(t,"\npassword: ").concat(n)),d.a.auth().createUserWithEmailAndPassword(t,n).then(this.onSignUpSuccess).catch(this.onSignUpFail)}},{key:"render",value:function(){var e=this,t=this.state,n=t.errorMessage;if(!0===t.gotSignedUp)return r.a.createElement(s.a,{to:"/sign-in"});var a=""!==n,i=n;return r.a.createElement("div",{className:"auth-form --sign-up"},r.a.createElement("div",{className:"msg-banner ".concat(a?"--error":"--hidden")},i),r.a.createElement(C.a,null,r.a.createElement(C.a.Group,{className:"mb-0"},r.a.createElement(C.a.Control,{type:"text",placeholder:"Full Name",value:this.state.fullName,onChange:function(t){return e.setState({fullName:t.target.value})}})),r.a.createElement(C.a.Group,{className:"mb-0"},r.a.createElement(C.a.Control,{type:"email",placeholder:"Email address",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(C.a.Group,{className:"mb-0"},r.a.createElement(C.a.Control,{type:"password",placeholder:"Password",value:this.state.password,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(o.a,{to:"/sign-in",className:"btn btn-link",style:{flex:1}},"Sign in"),r.a.createElement(C.a.Control,{className:"btn-primary",type:"submit",value:"Sign Up",onClick:function(){return e.handleSignUp()}}))))}}]),n}(r.a.Component),G=function(e){return null};a.Component;n(84),n(85),n(86),n(87),Object(a.createContext)();function M(){return"/mentor-app/app.html",r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Under testing..."))}Object(m.initializeApp)({apiKey:"AIzaSyCmE6rP0Vsuherr46YH8-OQ_SoRXyp6_gg",authDomain:"mentor-finder-app.firebaseapp.com",databaseURL:"https://mentor-finder-app.firebaseio.com",projectId:"mentor-finder-app",storageBucket:"mentor-finder-app.appspot.com",messagingSenderId:"223437150523",appId:"1:223437150523:web:3885fb7f8739c0d1a23f1e",measurementId:"G-KL1Q7SGE9T"}),Object(i.render)(r.a.createElement(M,null),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.27d6bc34.chunk.js.map